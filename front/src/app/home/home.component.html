<div class="main-space">
  <div class="video">
    <video #loseVideoPlayer class="videoPlayer" id="loseVideoPlayer" (ended)="onVideoEnded()">
      <source src="\videos\lose_web_4.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video #winVideoPlayer class="videoPlayer" id="winVideoPlayer" (ended)="onVideoEnded()">
      <source src="\videos\win_web_4.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
  <div #form class="form">
    <p>Выберите X</p>
    <div class="x-check-points">
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[-2]" (change)="onCheckboxChangeX(-2, $event)" [name]="-2">
        {{ -2 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[-1.5]" (change)="onCheckboxChangeX(-1.5, $event)" [name]="-1.5">
        {{ -1.5 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[-1]" (change)="onCheckboxChangeX(-1, $event)" [name]="-1">
        {{ -1 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[-0.5]" (change)="onCheckboxChangeX(-0.5, $event)" [name]="-0.5">
        {{ -0.5 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[0]" (change)="onCheckboxChangeX(0, $event)" [name]="0">
        {{ 0 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[0.5]" (change)="onCheckboxChangeX(0.5, $event)" [name]="0.5">
        {{ 0.5 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[1]" (change)="onCheckboxChangeX(1, $event)" [name]="1">
        {{ 1 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[1.5]" (change)="onCheckboxChangeX(1.5, $event)" [name]="1.5">
        {{ 1.5 }}
      </label>
      <label>
        <input type="checkbox" class="x-checks" [checked]="selectedOptionsX[2]" (change)="onCheckboxChangeX(2, $event)" [name]="2">
        {{ 2 }}
      </label>
    </div>

    <p>Введите Y</p>
    <input id="y-val" type="text" (input)="onTextChanged($event)">
    <p>Выберите R</p>
    <div class="r-check-points">
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[-2]" (change)="onCheckboxChangeR(-2, $event)" disabled="disabled" [name]="-2">
        {{ -2 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[-1.5]" (change)="onCheckboxChangeR(-1.5, $event)" disabled="disabled" [name]="-1.5">
        {{ -1.5 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[-1]" (change)="onCheckboxChangeR(-1, $event)" disabled="disabled" [name]="-1">
        {{ -1 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[-0.5]" (change)="onCheckboxChangeR(-0.5, $event)" disabled="disabled" [name]="-0.5">
        {{ -0.5 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[0]" (change)="onCheckboxChangeR(0, $event)" disabled="disabled" [name]="0">
        {{ 0 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[0.5]" (change)="onCheckboxChangeR(0.5, $event)" [name]="0.5">
        {{ 0.5 }}
      </label>
      <label>
        <input id="start-r" type="checkbox" [checked]="selectedOptionsR[1]" (change)="onCheckboxChangeR(1, $event)" [name]="1">
        {{ 1 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[1.5]" (change)="onCheckboxChangeR(1.5, $event)" [name]="1.5">
        {{ 1.5 }}
      </label>
      <label>
        <input type="checkbox" [checked]="selectedOptionsR[2]" (change)="onCheckboxChangeR(2, $event)" [name]="2">
        {{ 2 }}
      </label>
    </div>

    <div class="submit-button">
      <button id="flash-button" type="submit" (click)="submitClick()">Фонарик</button>
    </div>
  </div>
  <div class="graph">
    <svg #graph id="graph" xmlns="http://www.w3.org/2000/svg" width="650" height="650" (click)="graphClick($event)">
      <!-- Оси со стрелками -->
      <line stroke="white" x1="0" x2="600" y1="300" y2="300"></line>
      <line stroke="white" x1="300" x2="300" y1="0" y2="600"></line>
      <polygon points="300,0 294,15 306,15" fill="white"></polygon>
      <polygon points="600,300 585,306 585,294" fill="white"></polygon>

      <!-- Засечки -->
      <line stroke="white" x1="400" x2="400" y1="310" y2="290"></line>
      <line stroke="white" x1="500" x2="500" y1="310" y2="290"></line>
      <line stroke="white" x1="200" x2="200" y1="310" y2="290"></line>
      <line stroke="white" x1="100" x2="100" y1="310" y2="290"></line>
      <line stroke="white" x1="290" x2="310" y1="100" y2="100"></line>
      <line stroke="white" x1="290" x2="310" y1="200" y2="200"></line>
      <line stroke="white" x1="290" x2="310" y1="400" y2="400"></line>
      <line stroke="white" x1="290" x2="310" y1="500" y2="500"></line>

      <text class="coords" x="385" y="330" fill="white">{{rValue / 2}}</text>
      <text class="coords" x="495" y="330" fill="white">{{rValue}}</text>
      <text class="coords" x="90" y="330" fill="white">{{-rValue}}</text>
      <text class="coords" x="180" y="330" fill="white">{{-rValue / 2}}</text>
      <text class="coords" x="255" y="205" fill="white">{{rValue / 2}}</text>
      <text class="coords" x="270" y="105" fill="white">{{rValue}}</text>
      <text class="coords" x="250" y="405" fill="white">{{-rValue / 2}}</text>
      <text class="coords" x="265" y="505" fill="white">{{-rValue}}</text>
      <text x="310" y="15" fill="black">Y</text>
      <text x="585" y="290" fill="white">X</text>

      <!-- Прямоугольник -->
      <rect x="300" y="200" width="200" height="100" fill="#ffffff" fill-opacity="0.1" stroke="#ffffff"></rect>

      <!-- Треугольник -->
      <polygon points="200,300 300,200 300,300" fill="#ffffff" fill-opacity="0.1" stroke="#ffffff"></polygon>

      <!-- Полукруг -->
      <path d="M 300 500 A 200 200, 0, 0, 0, 500 300 L 300 300 Z" fill="#ffffff" fill-opacity="0.1" stroke="#ffffff"></path>
    </svg>
  </div>
  <div #resultTable class="results-table">
    <table class="res-table" id="res-table">
      <thead>
        <tr>
          <th>Выжили?</th>
          <th>X</th>
          <th>Y</th>
          <th>R</th>
        </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of data">
        <td>{{ item.shot==1 ? '✅' : '❌' }}</td>
        <td>{{ item.x }}</td>
        <td>{{ item.y }}</td>
        <td>{{ item.r }}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
